var feedbackProps={feedbackFixedClassName:"feedback-fixed",feedbackDisabledClassName:"vote-disabled",feedbackFormSelector:".feedback-row",feedbackMoreInfoSelector:".feedback-more-info",isVoting:!1,isClosed:!1};$(document).ready(function(){var e=function(){return"T_DOCUMENTATION_FEEDBACK_SUBMIT"+window.location.href},o=function(){return localStorage.getItem(e())},t=function(t,a){var n=o();if(n){var r=JSON.parse(n);t||(t=r.vote),void 0!==a&&null!==a||(a=r.closed)}n={date:new Date,vote:t,closed:a,url:window.location.href},localStorage.setItem(e(),JSON.stringify(n)),v(a&&!t?"close":t)},a=function(){var e=o();if(e){var t=JSON.parse(e);if(t.url===window.location.href&&null!==t.vote)return Math.abs(new Date-new Date(t.date))/1e3/60/60>=168}return!0},n=function(e){var o=document.cookie.match(new RegExp(e+"=([^;]+)"));if(o)return o[1]},r=function(){setTimeout(function(){$(".feedback").html("<div class='side-title uppercase-clear'>Thank you for your feedback!</div>")},200),setTimeout(function(){$(feedbackProps.feedbackFormSelector).removeClass(feedbackProps.feedbackFixedClassName),$(feedbackProps.feedbackFormSelector).addClass("vote-hide")},2e3)},c=function(){var e=$(window),o=$(feedbackProps.feedbackFormSelector),t=o.offset().top+o.outerHeight()-(e.height()+e.scrollTop());t>=0&&window.scrollTo({left:e.scrollLeft(),top:e.scrollTop()+t,behavior:"smooth"})},d=function(){return $("#feedback-other-text-input").val().trim()},i=function(){var e=d();return{email:"",inaccurateContent:!1,inaccurateOutdatedContentText:"",otherMoreInformation:!1,otherMoreInformationText:"",textErrors:!1,typosLinksElementsText:"",outdatedSample:!1,inaccurateOutdatedCodeSamplesText:"",acceptFeedbackContact:!1,otherFeedback:""!==e,textFeedback:e,yesNoFeedback:n("yesNoFeedback")||"Not submitted",uuid:n("uuid"),path:window.location.href,hasPreviousFeedback:n("feedbackSubmitted")||"false",sheetId:$("#hidden-sheet-id").val()}};$(".feedback .feedback-vote-button").on("click",function(){var e=$(feedbackProps.feedbackMoreInfoSelector),o="";$(this).hasClass("feedback-no-button")?(e.show(),e.addClass("show"),$(".feedback .feedback-question").hide(),$(".feedback-more-info.show").one("transitionend webkitTransitionEnd oTransitionEnd",function(){c()}),o="no"):(r(),e.hide(),o="yes"),t(o)}),$(".feedback .feedback-send-data-button").on("click",function(){$(feedbackProps.feedbackMoreInfoSelector).addClass("hide");var e="https://baas.kinvey.com/rpc/"+kinveyAppKey+"/custom/saveFeedback";d()&&$.ajax({url:e,method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(i()),crossDomain:!0,beforeSend:function(e){e.setRequestHeader("Authorization","Basic "+btoa("feedback:feedback"))}}),r()}),$(".close-button-container").on("click",function(){feedbackProps.isClosed=!0,p(!1),t(null,feedbackProps.isClosed)});var s=function(){var e=o();if(e){var t=JSON.parse(e).vote;return t&&("yes"===t.toLowerCase()||"no"===t.toLowerCase())}return!1},f=function(){var e=o();return!!e&&JSON.parse(e).closed},l=function(){return!(s()||f())},u=function(e){return $(e)[0].getBoundingClientRect().top},b=function(){return u(feedbackProps.feedbackFormSelector)<window.innerHeight},k=function(){return!feedbackProps.isVoting&&!b()},p=function(e){e?$(feedbackProps.feedbackFormSelector).addClass(feedbackProps.feedbackFixedClassName):$(feedbackProps.feedbackFormSelector).removeClass(feedbackProps.feedbackFixedClassName),feedbackProps.isSticky=e},v=function(e){var o=window.dataLayer||[];o.push({event:"virtualEvent",eventCategory:"feedback",eventAction:m(e),eventLabel:window.location.href})},m=function(e){if(!e||0===e.length)return"";var o=e.toLowerCase(),t=o[0];return t.toUpperCase()+o.slice(1)},h=function(){if(feedbackProps.isClosed)window.removeEventListener("scroll",h),window.removeEventListener("resize",h);else{var e=$(window),o=e.height()+e.scrollTop(),t=$(feedbackProps.feedbackFormSelector).outerHeight()+$("#footer").outerHeight(),a=document.body.scrollHeight-t;p(o-2*$(feedbackProps.feedbackFormSelector).outerHeight()<a)}},w=function(){a()?l()&&setTimeout(function(){k()&&($(feedbackProps.feedbackFormSelector).addClass(feedbackProps.feedbackFixedClassName),window.addEventListener("scroll",h),window.addEventListener("resize",h))},3e4):$(feedbackProps.feedbackFormSelector).addClass(feedbackProps.feedbackDisabledClassName)};w()});